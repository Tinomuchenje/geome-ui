<md-content layout="column" layout-fill>
  <fims-header show-project-selector="$ctrl.projectView" current-user="$ctrl.currentUser" current-project="$ctrl.currentProject"
    on-project-change="$ctrl.handleProjectChange(project)" on-signout="$ctrl.signout()">
  </fims-header>

  <div flex ng-show="$ctrl.projectView">
    <!-- Sidebar navigation -->
    <fims-navigation current-project="$ctrl.currentProject" current-user="$ctrl.currentUser">
    </fims-navigation>

    <main class="main">
      <alerts></alerts>
      <div class="content" id="content">
        <div class="container-fluid" ui-view ng-show="!$ctrl.loading" current-project="$ctrl.currentProject"
          current-user="$ctrl.currentUser">
        </div>
        <div ng-show="$ctrl.loading">
          <span us-spinner></span>
        </div>
      </div>
    </main>
  </div>

  <div flex ng-show="!$ctrl.projectView">
    <div layout="row" layout-fill layout-sm="column" ng-show="$ctrl.loading" layout-align="center center">
      <md-progress-circular md-mode="indeterminate"></md-progress-circular>
    </div>

    <main layout-fill ng-show="!$ctrl.loading">
      <alerts></alerts>
      <div ui-view layout-fill current-project="$ctrl.currentProject" current-user="$ctrl.currentUser"></div>
    </main>
  </div>
</md-content>